import {
    Slogan,
    Grid,
    GridItem,
    GridFeature,
    GridCard,
    MultiplayerIcon,
    ResponsiveIframe,
    ComingSoonBadge
} from "@/components/forMdx";
import {
    JazzLogo
} from "@/components/logos";
import {
    WorkflowIcon,
    UploadCloudIcon,
    PlaneIcon,
    MonitorSmartphoneIcon,
    GaugeIcon,
} from "lucide-react";
import {
    DataModel_ts,
    App_tsx,
    ChatWindow_tsx,
} from "@/codeSamples/examples/chat/src";
import Link from "next/link";


# Instant sync

<Slogan>Go beyond request/response &mdash; ship modern apps with sync.</Slogan>

Jazz is an open-source toolkit for building apps with **sync** & **secure collaborative data.**

<h2 className="md:mt-24">Hard things are easy now</h2>

Jazz replaces APIs, DBs and message queues with **a single new abstraction: CoJSON**.

This means you get **built-in capabilities** that took best-in-class apps years to build:

<Grid className="-mt-2 gap-[1px] border rounded-xl overflow-hidden border-stone-200 dark:border-stone-800 shadow-sm bg-stone-200 dark:bg-stone-800 [&>*]:rounded-none [&>*]:border-none [&>*]:bg-stone-50 [&>*]:dark:bg-stone-950">
<GridFeature icon={<MonitorSmartphoneIcon />}>Cross-device sync</GridFeature>
<GridFeature icon={<MultiplayerIcon/>}>Real-time multiplayer</GridFeature>
<GridFeature icon={<WorkflowIcon />}>Automatic granular dataâ€‘fetching</GridFeature>
<GridFeature icon={<UploadCloudIcon />}>Local & cloud persistence</GridFeature>
<GridFeature icon={<PlaneIcon />}>Offline support & Quick reconnect</GridFeature>
<GridFeature icon={<GaugeIcon />}>Instant UI updates & quick loads</GridFeature>
</Grid>

<div className="-mx-[calc(min(0,(100vw-95rem)/2))]">
### First impressions
<Slogan small>A chat app in 82 lines of code.</Slogan>

<Grid className="mt-0">
<GridItem>

<DataModel_ts/>

</GridItem>
<GridItem className="md:col-start-1">

<App_tsx/>

</GridItem>
<GridItem className="md:col-start-2 md:row-start-1 md:row-span-2">

<ChatWindow_tsx/>

</GridItem>
<ResponsiveIframe src="https://chat.jazz.tools" className="lg:col-start-3 lg:row-start-1 lg:row-span-2 rounded-xl overflow-hidden min-h-[50vh]"/>
</Grid>
</div>

## CoJSON
<Slogan small>The collaborative core.</Slogan>

Jazz is built around **CoJSON,** a new abstraction for **sync** & **secure collaborative data.** And while it does all the heavy lifting...

- **multi-device co-editing**
- **user identities & accounts**
- **permissions** & **roles**
- **sync** & **caching**
- **persistence**

...its API couldn't be simpler: CoJSON makes collaboration and secure access control feel like **inherent properties of your data**.

### Collaborative Values

<Slogan small>Your new building blocks.</Slogan>

Collaborative Values (CoValues) **can be edited as if they were simple local data,** but they're **automatically encrypted, signed** and **synced** between participants.

CoValues also **keep their full edit history,** including author metadata and potential editing conflicts. This makes it **super simple to build collaborative and social features.**

<Grid className="lg:gap-y-8 lg:grid-cols-2">

<GridCard>
### `CoMap`
<div className="text-sm">
- Collaborative key-value map
- Possible values:
    - Immutable JSON & IDs of other CoValues
</div>
</GridCard>

<GridCard>
### `CoList`
<div className="text-sm">
- Collaborative ordered list
- Possible items:
    - Immutable JSON & IDs of other CoValues
</div>
</GridCard>

<GridCard>
### `CoString` & `CoText` <ComingSoonBadge/>
<div className="text-sm">
- Collaborative plain-text & rich-text
    - Gracefully prevents most editing conflicts
    - Rendered as markdown, HTML, JSX, etc.
</div>
</GridCard>

<GridCard>
### `CoStream` & `BinaryCoStream`
<div className="text-sm">
- Collection of independent per-user items streams:
    - Immutable JSON & IDs of other CoValues
- Great for presence, reactions, polls, replies etc.
- Create, sync and store binary blobs or live-streams as just another kind of object
</div>
</GridCard>
</Grid>

### Groups & Accounts

<Slogan small>First-class user identities & secure permissions.</Slogan>

<Grid className="lg:gap-y-8 lg:grid-cols-2">
<GridCard>
### `Group`
<div className="text-sm">
- A scope where specified accounts have roles (`reader`/`writer`/`admin`).
- A `Group` owns `CoValues`, with access right determined by group roles.
- Accounts can be added to groups directly or using shareable invite secrets.
</div>
</GridCard>
<GridCard>
### `Account`
<div className="text-sm">
- Represents a single user and their signing/encryption keys.
- Has a private account root and a public profile
    - Can contain arbitrary app-specific data
</div>
</GridCard>
</Grid>

## The Jazz Toolkit

<Slogan small>Idiomatic bindings for CoJSON, with batteries included.</Slogan>

Supported environments:
<div className="text-sm">
- Browser (sync via WebSockets, IndexedDB persistence)
    - React
    - Vanilla JS / framework agnostic base
- React Native <ComingSoonBadge/>
- NodeJS (sync via WebSockets, SQLite persistence) <ComingSoonBadge/>
- Swift, Kotlin, Rust <ComingSoonBadge when="later"/>
</div>
<Grid>

<GridCard>
### Auto-sub
<Slogan small>Let your UI drive data-syncing.</Slogan>
<div className="text-sm">
- Load and auto-subscribe to deeply nested `CoValues` with a reactive hook (or callback).
- Access properties & metadata as plain JSON.
- Make granular changes with simple mutators.
- No queries needed, everything loads on-demand: <br/>
`profile?.tweets?.map(tweet => tweet?.text)`
</div>
</GridCard>

<GridCard>
### Cursors & carets
<Slogan small>Ready-made spatial presence.</Slogan>
<div className="text-sm">
- 2D canvas cursors <ComingSoonBadge/>
- Text carets <ComingSoonBadge/>
- Element-based focus-presence <ComingSoonBadge/>
- Scroll-based / out-of-bounds helpers <ComingSoonBadge/>
</div>
</GridCard>

<GridCard>
### Auth providers

<Slogan small>Plug and play different kinds of auth.</Slogan>
<div className="text-sm">
- DemoAuth (for quick multi-user demos)
- WebAuthN (TouchID/FaceID)
- Auth0, Clerk & Okta <ComingSoonBadge/>
- NextAuth <ComingSoonBadge/>
</div>
</GridCard>

<GridCard>
### Two-way sync to your DB
<Slogan small>Add Jazz to an existing app.</Slogan>
<div className="text-sm">
- Prisma <ComingSoonBadge/>
- Drizzle <ComingSoonBadge/>
- PostgreSQL introspection <ComingSoonBadge/>
</div>
</GridCard>

<GridCard>
### File upload & download

<Slogan small>Just use `<input type="file"/>`.</Slogan>
<div className="text-sm">
- Easily convert from and to Browser `Blob`s
- Super simple progressive image loading
</div>
</GridCard>

<GridCard>
### Video presence & calls

<Slogan small>Stream and record audio & video.</Slogan>
<div className="text-sm">
- Automatic WebRTC connections between `Group` members <ComingSoonBadge/>
- Audio/video recording into `BinaryCoStreams` <ComingSoonBadge/>
</div>
</GridCard>
</Grid>

## Global Mesh

<Slogan small>Serverless sync & storage for Jazz apps</Slogan>

To give you sync & secure collaborative data instantly on a global scale, we're running Global Mesh. It works with any CoJSON-based app, requires no setup and has straightforward, scale-to-zero pricing.

Global Mesh is currently free &mdash; and it's set up as the default sync & storage peer in Jazz, letting you start building multi-user apps with persistence right away, no backend needed.

<Link href="/mesh" target="_blank">Learn more about Global Mesh</Link>

## Get Started

- See the <Link href="https://github.com/gardencmp/jazz#todo-list" target="_blank">Todo List Example Walkthrough</Link>
- <Link href="https://github.com/gardencmp/jazz/blob/main/DOCS.md" target="_blank">Read the docs</Link>
- <Link href="https://discord.gg/utDMjHYg42" target="_blank">Join our Discord</Link>