import {
    Highlight,
    Class,
    PropDecl,
    ClassRef,
    PropRef,
    SimplePropDecl,
    PropCategory,
    NavPackage,
    FnDecl,
    NewCoValueExplainer,
} from "@/components/docs/tags";
import { DocNav } from "@/components/docs/nav";
import { CoMapDocs } from "@/components/docs/api/CoMap";
import { CoListDocs } from "@/components/docs/api/CoList";
import { CoStreamDocs } from "@/components/docs/api/CoStream";

<div className="hidden md:block bg-stone-100 dark:bg-stone-900 p-4 rounded-xl sticky overflow-y-scroll w-[14rem] h-[calc(100dvh-8rem)] -mb-[calc(100dvh-8rem)] top-[6rem] pr-6 mr-10 prose-sm prose-ul:pl-1 prose-ul:ml-1 prose-li:my-2 prose-li:leading-tight prose-ul:list-['-']">
    <DocNav />
</div>

<div className={["md:ml-[18rem] xl:-mr-[calc(50vw-40rem)]"].join(" ")}>

<h1 id="quickstart">Quickstart</h1>

<h2 id="build-a-chat-app">Build a chat app in 5 minutes</h2>

Literally say "Hello world!" by building your own chat app.

1. Create a barebones Vite project with TypeScript, React, and Tailwind CSS:

```bash
npx degit gardencmp/vite-ts-react-tailwind chat-app
cd chat-app
npm install
npm run dev
```

You should now have the empty app running, typically at [localhost:5173](http://localhost:5173)

If you make changes to the code, the app will automatically refresh.

2. Now, in a new terminal window, install `jazz-react`:

```bash
cd chat-app
npm install jazz-react
```

3. Let's start actually building the app by defining a schema in `src/schema.tsx`

```tsx
import { CoMap, CoList, co } from "jazz-tools";

export class Message extends CoMap<Message> {
  text = co.string;
}

export class Chat extends CoList.Of(co.ref(Message)) {}
```

TODO explain
- The need for schemas
- Why CoMap takes a generic arg
- What `co` is
- What `co.ref` is, with link to Refs, Load & Subscribe

4. To set up Jazz for our app, let's define a Jazz context in `src/main.tsx` and extract hooks and wrap our app in the provider.

```tsx subtle=1,2,3,4,13,15,16,17,19
import React from 'react'
import ReactDOM from 'react-dom/client'
import App from './App.tsx'
import './index.css'
import { JazzReact } from "jazz-react";

const Jazz = JazzReact({
  auth: DemoAuth({ appName: "Jazz Chat" }),
  apiKey: import.meta.env.VITE_JAZZ_KEY
});
export const { useAccount, useCoState } = Jazz;

ReactDOM.createRoot(document.getElementById('root')!).render(
  <Jazz.Provider>
    <React.StrictMode>
      <App />
    </React.StrictMode>
  </Jazz.Provider>
)
```

TODO explain
- What `DemoAuth` is
- Why we get our Provider and hooks from `Jazz` instead of importing them

<h2 id="what-to-try-next">What to try next</h2>

<h1 id="guide">Let's Learn Some Jazz</h1>

<h2 id="guide-goal">Goal: Issue-Tracking App</h2>

<h2 id="intro-to-covalues">Intro to CoValues</h2>

<h2 id="refs-load-and-subscribe">Refs, Load & Subscribe</h2>

<h2 id="groups-and-permissions">Groups & Permissions</h2>

<h2 id="accounts-and-migrations">Accounts & Migrations</h2>

<h2 id="backend-workers">Backend Workers</h2>

# API Reference

Note: this documentation is work in progress and hand-written, so if something seems wrong or is missing, please let us know on Discord or open an issue on GitHub.

## `jazz-tools` (package)

<div class="not-prose">

<CoMapDocs />

<CoListDocs />

<CoStreamDocs />

</div>

## `jazz-react` (package)

## `jazz-browser` (package)

</div>